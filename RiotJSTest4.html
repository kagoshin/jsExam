<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<script
 src='https://cdnjs.cloudflare.com/ajax/libs/riot/2.3.18/riot+compiler.js'></script>
<title>RiotJS Test4</title>
</head>
<body>
<item></item>
<script type="riot/tag">
    <item>
        <button onclick='{add}'>add</button>
        <div each='{item_list}'>
            <h2>{ name }</h2>
        </div>

        this.item_list = [];

        this.add = function(e) {
            this.item_list.push({name: '要素' + this.item_list.length });
        }

        const self = this;
        setInterval(function() {
            self.item_list.push({name: 'tick'});
            self.update();
        }, 1000);
    </item>
</script>

 <script>
    // マウント
    riot.mount('*');
  </script>
</body>
</html>